repo2tarball is a shell script for snapshotting an upstream source repository
(git or svn) and creating a tarball.  The tarball is suitable for use with
SlackBuild scripts from SlackBuilds.org and elsewhere.

Here is an example of how repo2tarball might be used:

  repo2tarball -p lensfun -t svn -u svn://svn.berlios.de/lensfun/trunk -z bz2

This creates a tarball for the upstream package 'lensfun'.  The repository type
is Subversion, and the repository URL is svn://svn.berlios.de/lensfun/trunk.
The tarball will be compressed with bzip2.

The repo2tarball script will use the upstream branch name (in this case,
trunk) and, by default, the upstream latest revision (eg, 137), and will create
a tarball named lensfun-trunk.137.tar.bz2.  The existing SlackBuild script can
then be called as follows to build from the tarball:

  VERSION=trunk.137 sh lensfun.SlackBuild

Instead of specifying control arguments every time repo2tarball is invoked, you
can create a 'repoinfo' file (similar to the SBo 'info' file) containing details
of the upstream repository as follows:

PRGNAM="lensfun"
TYPE="svn"
URL="svn://svn.berlios.de/lensfun/trunk"
BRANCH=""
REVISION=""
EXPORT=""
COMPRESS="bz2"

in which case repo2tarball can be invoked with just

  repo2tarball lensfun

If you have a repoinfo file and you also specify control arguments, the control
arguments will override the contents of the repoinfo file.

The following options can be specified:

-p prgnam
  The PRGNAM (program name) of the tarball which will be created.  This also
  determines the name of the repoinfo file to be read, if it exists.

-f filename
  The repoinfo file from which to read options.  By default, PRGNAM.repoinfo
  will be read if it exists.

-t git|svn
  The type of the upstream repository, which must be either 'git' or 'svn'.

-u url
  The URL of the upstream repository.

-b branch
  The branch of the upstream repository to use.  This option can also be
  specified as BRANCH="branchname" in a .repoinfo file or the environment.

  For git repos, the default upstream branch will usually be 'master'.

  For svn repos, the branch should be specified as part of the URL (usually as
  'trunk') and this option should be left empty or unspecified.

-r revision
  The revision to check out from the upstream repository.  By default, the
  latest revision will be used.  For git repos, this will be a seven-character
  abbreviated commit id.  For svn repos, this will be an integer revision
  number.  The revision can also be specified as REVISION="rev" in a .repoinfo
  file or the environment.

-e y|n
  Whether to export the checked-out tree.  If 'y' or 'yes' (the default),
  revision control files (for example, .git or .svn subdirectories) will be
  excluded.  However, for packages that require these files for a successful
  build, 'n' or 'no' should be specified.  This option can also be specified as
  EXPORT="n" in a .repoinfo file or the environment.

-z gz|bz2
  The compression type to use for the tarball.  This should be gz (which
  is the default), or bz2, or xz.  The compression type can also be specified as
  COMPRESSION="type" in a .repoinfo file or the environment.

-o dirname
  The directory in which to create the output tarball.  By default, the tarball
  will be created in the current directory.  The output directory can also be
  specified as OUTPUT="dirname" in the environment.
